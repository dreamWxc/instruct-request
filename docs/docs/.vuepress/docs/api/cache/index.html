<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cache配置 | instruct request</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="指令请求器">
    
    <link rel="preload" href="/assets/css/0.styles.7cfabf05.css" as="style"><link rel="preload" href="/assets/js/app.351c32ee.js" as="script"><link rel="preload" href="/assets/js/2.0b262f75.js" as="script"><link rel="preload" href="/assets/js/9.d40751ff.js" as="script"><link rel="prefetch" href="/assets/js/10.7f766a87.js"><link rel="prefetch" href="/assets/js/11.d18ff8d3.js"><link rel="prefetch" href="/assets/js/12.a68fc717.js"><link rel="prefetch" href="/assets/js/13.5a1180ee.js"><link rel="prefetch" href="/assets/js/14.53acad9e.js"><link rel="prefetch" href="/assets/js/15.c6d2ed99.js"><link rel="prefetch" href="/assets/js/16.aaa31e2a.js"><link rel="prefetch" href="/assets/js/3.7551695b.js"><link rel="prefetch" href="/assets/js/4.f91c7c2e.js"><link rel="prefetch" href="/assets/js/5.5dd86ffc.js"><link rel="prefetch" href="/assets/js/6.68fc5c4c.js"><link rel="prefetch" href="/assets/js/7.f587d20f.js"><link rel="prefetch" href="/assets/js/8.8149d28c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cfabf05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">instruct request</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><span class="title">配置</span> <span class="arrow down"></span></button> <button type="button" aria-label="配置" class="mobile-dropdown-title"><span class="title">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/default/" class="nav-link">
  基本配置
</a></li><li class="dropdown-item"><!----> <a href="/api/cache/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Cache配置
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="External" class="dropdown-title"><span class="title">External</span> <span class="arrow down"></span></button> <button type="button" aria-label="External" class="mobile-dropdown-title"><span class="title">External</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese/" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/language/japanese/" class="nav-link">
  Japanese
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><span class="title">配置</span> <span class="arrow down"></span></button> <button type="button" aria-label="配置" class="mobile-dropdown-title"><span class="title">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/default/" class="nav-link">
  基本配置
</a></li><li class="dropdown-item"><!----> <a href="/api/cache/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Cache配置
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="External" class="dropdown-title"><span class="title">External</span> <span class="arrow down"></span></button> <button type="button" aria-label="External" class="mobile-dropdown-title"><span class="title">External</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese/" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/language/japanese/" class="nav-link">
  Japanese
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/api/default/" class="sidebar-link">配置</a></li><li><a href="/api/cache/" aria-current="page" class="active sidebar-link">cache配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/cache/#基本配置" class="sidebar-link">基本配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/cache/#update" class="sidebar-link">update</a></li><li class="sidebar-sub-header"><a href="/api/cache/#first" class="sidebar-link">first</a></li><li class="sidebar-sub-header"><a href="/api/cache/#storage" class="sidebar-link">storage</a></li><li class="sidebar-sub-header"><a href="/api/cache/#where" class="sidebar-link">where</a></li><li class="sidebar-sub-header"><a href="/api/cache/#haswhere" class="sidebar-link">hasWhere</a></li><li class="sidebar-sub-header"><a href="/api/cache/#handle" class="sidebar-link">handle</a></li><li class="sidebar-sub-header"><a href="/api/cache/#expire" class="sidebar-link">expire</a></li><li class="sidebar-sub-header"><a href="/api/cache/#groupid" class="sidebar-link">groupId</a></li><li class="sidebar-sub-header"><a href="/api/cache/#id" class="sidebar-link">id</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/cache/#cache类配置" class="sidebar-link">Cache类配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/cache/#getdata" class="sidebar-link">getData</a></li><li class="sidebar-sub-header"><a href="/api/cache/#getdataall" class="sidebar-link">getDataAll</a></li><li class="sidebar-sub-header"><a href="/api/cache/#getgroupdata" class="sidebar-link">getGroupData</a></li><li class="sidebar-sub-header"><a href="/api/cache/#getgroupdataall" class="sidebar-link">getGroupDataAll</a></li><li class="sidebar-sub-header"><a href="/api/cache/#update-2" class="sidebar-link">update</a></li><li class="sidebar-sub-header"><a href="/api/cache/#updategroup" class="sidebar-link">updateGroup</a></li><li class="sidebar-sub-header"><a href="/api/cache/#updateall" class="sidebar-link">updateAll</a></li><li class="sidebar-sub-header"><a href="/api/cache/#updateallgroup" class="sidebar-link">updateAllGroup</a></li><li class="sidebar-sub-header"><a href="/api/cache/#delete" class="sidebar-link">delete</a></li><li class="sidebar-sub-header"><a href="/api/cache/#deletegroup" class="sidebar-link">deleteGroup</a></li><li class="sidebar-sub-header"><a href="/api/cache/#deleteall" class="sidebar-link">deleteAll</a></li><li class="sidebar-sub-header"><a href="/api/cache/#deleteallgroup" class="sidebar-link">deleteAllGroup</a></li><li class="sidebar-sub-header"><a href="/api/cache/#clear" class="sidebar-link">clear</a></li><li class="sidebar-sub-header"><a href="/api/cache/#clearall" class="sidebar-link">clearAll</a></li><li class="sidebar-sub-header"><a href="/api/cache/#rollback" class="sidebar-link">rollBack</a></li><li class="sidebar-sub-header"><a href="/api/cache/#data" class="sidebar-link">data</a></li><li class="sidebar-sub-header"><a href="/api/cache/#datatrigger" class="sidebar-link">dataTrigger</a></li><li class="sidebar-sub-header"><a href="/api/cache/#option" class="sidebar-link">option</a></li><li class="sidebar-sub-header"><a href="/api/cache/#skip" class="sidebar-link">skip</a></li><li class="sidebar-sub-header"><a href="/api/cache/#groupid-2" class="sidebar-link">groupId</a></li><li class="sidebar-sub-header"><a href="/api/cache/#id-2" class="sidebar-link">id</a></li><li class="sidebar-sub-header"><a href="/api/cache/#sign" class="sidebar-link">sign</a></li><li class="sidebar-sub-header"><a href="/api/cache/#replace" class="sidebar-link">replace</a></li><li class="sidebar-sub-header"><a href="/api/cache/#where-2" class="sidebar-link">where</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cache配置"><a href="#cache配置" class="header-anchor">#</a> Cache配置</h1> <h2 id="基本配置"><a href="#基本配置" class="header-anchor">#</a> 基本配置</h2> <h3 id="update"><a href="#update" class="header-anchor">#</a> <code>update</code></h3> <p>是否更新，如果更新将会 继续去执行请求，并进行读取缓存 如果指定 <code>where</code> 则会优先执行 <code>where</code></p> <h4 id="参数-boolean-function"><a href="#参数-boolean-function" class="header-anchor">#</a> 参数: <code>Boolean</code> | <code>Function</code></h4> <p><code>boolean</code> 很好理解，就是是否更新，<code>false</code> 将不会触发更新 <code>true</code> 将会触发更新
<br> <code>Function</code> 则为提供函数，当进行判断是否更新时将会执行此函数,分别传入 <code>执行上下文</code> 和 <code>缓存结果</code></p> <h3 id="first"><a href="#first" class="header-anchor">#</a> <code>first</code></h3> <p>是否首次执行更新 所谓首次格式为 此缓存刚被首次读取 如果指定 <code>update</code> 优先使用 <code>update</code>，经常被用于首次进入更新缓存的操作</p> <h4 id="参数-boolean"><a href="#参数-boolean" class="header-anchor">#</a> 参数: <code>Boolean</code></h4> <br> <h3 id="storage"><a href="#storage" class="header-anchor">#</a> <code>storage</code></h3> <p>存储类型 如果设置的 缓存类型不支持 默认 将自动转为 <code>memory</code></p> <h4 id="参数-memory-local-session"><a href="#参数-memory-local-session" class="header-anchor">#</a> 参数: <code>memory</code> | <code>local</code> | <code>session</code></h4> <br> <h3 id="where"><a href="#where" class="header-anchor">#</a> <code>where</code></h3> <p>是否使用缓存 自定义 获取缓存前执行</p> <h4 id="参数-boolean-function-2"><a href="#参数-boolean-function-2" class="header-anchor">#</a> 参数: <code>Boolean</code> | <code>Function</code></h4> <p><code>boolean</code> 很好理解，就是是否使用，<code>false</code> 将不使用 <code>true</code> 将会使用
<br> <code>Function</code> 则为提供函数，当进行判断是否使用时将会执行此函数,传入 <code>执行上下文</code> 进行判断</p> <h3 id="haswhere"><a href="#haswhere" class="header-anchor">#</a> <code>hasWhere</code></h3> <p>是否使用缓存 自定义 获取完成缓存后执行,同 <code>where</code> 一个效果，仅是执行时机不同，并且为<code>Function</code> 时 将多一个<code>缓存结果</code>参数</p> <h3 id="handle"><a href="#handle" class="header-anchor">#</a> <code>handle</code></h3> <p>获取到缓存后的处理 返回值将作为新的数据返回出去</p> <h4 id="参数-function"><a href="#参数-function" class="header-anchor">#</a> 参数: <code>Function</code></h4> <p><code>Function</code>  提供函数处理获得到的缓存，并将结果返回</p> <h3 id="expire"><a href="#expire" class="header-anchor">#</a> <code>expire</code></h3> <p>过期时间 单位为<code>ms</code> 小于 0 或者不传入 会被认为按照 <code>模式</code> 的 <code>生命周期</code></p> <h4 id="参数-number-function"><a href="#参数-number-function" class="header-anchor">#</a> 参数: <code>Number</code> | <code>Function</code></h4> <p><code>number</code> 则为距离当下多久过期 比如 <code>10 * 1000</code> 则为 <code>10s</code> <code>Function</code> 通过函数获取 传入参数分别为 <code>将要存储data</code> 和 <code>被替换存储data</code> 和 <code>sign唯一令牌</code></p> <h3 id="groupid"><a href="#groupid" class="header-anchor">#</a> <code>groupId</code></h3> <p><code>组id</code> 可以通过 <code>组id</code> 进行删除多个缓存,可以应用在多个请求，或者同一个请求，有多种不同的参数上</p> <h4 id="参数-string"><a href="#参数-string" class="header-anchor">#</a> 参数: <code>String</code></h4> <br> <h3 id="id"><a href="#id" class="header-anchor">#</a> <code>id</code></h3> <p><code>唯一id</code> 和 <code>组id</code>不一样，此<code>id</code>仅会存储一个 如果<code>id</code>相同会相互替换,且同一个请求多种不同的参数也被认为属于多个 如果需要存储多个建议使用 <code>groupId</code></p> <h4 id="参数-string-2"><a href="#参数-string-2" class="header-anchor">#</a> 参数: <code>String</code></h4> <br> <h2 id="cache类配置"><a href="#cache类配置" class="header-anchor">#</a> Cache类配置</h2> <h3 id="getdata"><a href="#getdata" class="header-anchor">#</a> <code>getData</code></h3> <p>获取某个平台缓存 如果为<code>string</code> 则为 <code>sign</code></p> <h3 id="getdataall"><a href="#getdataall" class="header-anchor">#</a> <code>getDataAll</code></h3> <p>获取所有平台此缓存 如果为<code>string</code> 则为 <code>sign</code></p> <h3 id="getgroupdata"><a href="#getgroupdata" class="header-anchor">#</a> <code>getGroupData</code></h3> <p>获取某平台组的缓存 如果为<code>string</code> 则为 <code>sign</code></p> <h3 id="getgroupdataall"><a href="#getgroupdataall" class="header-anchor">#</a> <code>getGroupDataAll</code></h3> <p>获取所有平台 组的缓存 如果为<code>string</code> 则为 <code>sign</code></p> <h3 id="update-2"><a href="#update-2" class="header-anchor">#</a> <code>update</code></h3> <p>更新缓存</p> <h3 id="updategroup"><a href="#updategroup" class="header-anchor">#</a> <code>updateGroup</code></h3> <p>更新组缓存</p> <h3 id="updateall"><a href="#updateall" class="header-anchor">#</a> <code>updateAll</code></h3> <p>更新平台缓存</p> <h3 id="updateallgroup"><a href="#updateallgroup" class="header-anchor">#</a> <code>updateAllGroup</code></h3> <p>更新全平台缓存组</p> <h3 id="delete"><a href="#delete" class="header-anchor">#</a> <code>delete</code></h3> <p>删除缓存</p> <h3 id="deletegroup"><a href="#deletegroup" class="header-anchor">#</a> <code>deleteGroup</code></h3> <p>删除组缓存</p> <h3 id="deleteall"><a href="#deleteall" class="header-anchor">#</a> <code>deleteAll</code></h3> <p>删除全平台缓存</p> <h3 id="deleteallgroup"><a href="#deleteallgroup" class="header-anchor">#</a> <code>deleteAllGroup</code></h3> <p>删除全平台缓存组</p> <h3 id="clear"><a href="#clear" class="header-anchor">#</a> <code>clear</code></h3> <p>清楚某平台缓存</p> <h3 id="clearall"><a href="#clearall" class="header-anchor">#</a> <code>clearAll</code></h3> <p>清楚所有平台缓存</p> <h3 id="rollback"><a href="#rollback" class="header-anchor">#</a> <code>rollBack</code></h3> <p>回滚 如果参数发生变化，可以通过此函数回滚到，上一次发生变化的时候，仅作为链式结尾有效</p> <h3 id="data"><a href="#data" class="header-anchor">#</a> <code>data</code></h3> <p>更新的data数据</p> <h4 id="参数-any-function"><a href="#参数-any-function" class="header-anchor">#</a> 参数: <code>any</code> | <code>Function</code></h4> <p><code>any</code> 则为直接被更新的数据
<br> <code>Function</code> 通过函数获取 传入参数分别为 <code>当前配置</code> 和 <code>全局配置</code></p> <h3 id="datatrigger"><a href="#datatrigger" class="header-anchor">#</a> <code>dataTrigger</code></h3> <p>如果不存在 <code>data</code> 则使用 此字段获取 差别主要是<code>执行函数</code>参数差别</p> <h4 id="参数-function-2"><a href="#参数-function-2" class="header-anchor">#</a> 参数: <code>Function</code></h4> <p><code>Function</code> 通过函数获取 传入参数为 <code>当前的基础配置</code></p> <h3 id="option"><a href="#option" class="header-anchor">#</a> <code>option</code></h3> <p>缓存的配置 一般从此处获取到更新 <code>平台</code> 同底部<code>配置</code>一致</p> <h4 id="参数-object"><a href="#参数-object" class="header-anchor">#</a> 参数: <code>Object</code></h4> <p><code>Object</code> 参考 <code>cache</code> 配置</p> <h3 id="skip"><a href="#skip" class="header-anchor">#</a> <code>skip</code></h3> <p>如果不存在指定平台 默认 更新全部平台</p> <h4 id="参数-boolean-2"><a href="#参数-boolean-2" class="header-anchor">#</a> 参数: <code>Boolean</code></h4> <p><code>boolean</code> 是否更新全平台</p> <h3 id="groupid-2"><a href="#groupid-2" class="header-anchor">#</a> <code>groupId</code></h3> <p>组id</p> <h4 id="参数-string-3"><a href="#参数-string-3" class="header-anchor">#</a> 参数: <code>String</code></h4> <p><code>string</code> 组id</p> <h3 id="id-2"><a href="#id-2" class="header-anchor">#</a> <code>id</code></h3> <p>唯一id</p> <h4 id="参数-string-4"><a href="#参数-string-4" class="header-anchor">#</a> 参数: <code>String</code></h4> <p><code>string</code> 唯一id</p> <h3 id="sign"><a href="#sign" class="header-anchor">#</a> <code>sign</code></h3> <p>令牌</p> <h4 id="参数-string-5"><a href="#参数-string-5" class="header-anchor">#</a> 参数: <code>String</code></h4> <p><code>string</code> 令牌</p> <h3 id="replace"><a href="#replace" class="header-anchor">#</a> <code>replace</code></h3> <p>是否替换配置,此配置优先于回滚</p> <h4 id="参数-boolean-function-3"><a href="#参数-boolean-function-3" class="header-anchor">#</a> 参数: <code>Boolean</code> | <code>Function</code></h4> <p><code>Boolean</code> 是否替换配置
<code>Function</code> 参数分别为 <code>替换的key</code> 和 <code>新值</code> 和 <code>旧值</code></p> <h3 id="where-2"><a href="#where-2" class="header-anchor">#</a> <code>where</code></h3> <p>更新全平台的逻辑限制，比如可以通过指定 <code>['local','session']</code> 更新某些平台</p> <h4 id="参数-array-function"><a href="#参数-array-function" class="header-anchor">#</a> 参数: <code>Array</code> | <code>Function</code></h4> <p><code>Array</code> 更新的平台列表
<code>Function</code> 是否更新此平台，作为 参数为 <code>平台类型</code> 返回 <code>Boolean</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/default/" class="prev">
        配置
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.351c32ee.js" defer></script><script src="/assets/js/2.0b262f75.js" defer></script><script src="/assets/js/9.d40751ff.js" defer></script>
  </body>
</html>
